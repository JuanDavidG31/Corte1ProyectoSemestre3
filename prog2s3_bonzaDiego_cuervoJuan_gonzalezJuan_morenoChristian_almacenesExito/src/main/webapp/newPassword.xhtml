<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Reestablecer contraseña</title>
	<link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
		rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
		crossorigin="anonymous" />
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous" />
	<script src="https://kit.fontawesome.com/e5507d7bda.js"
		crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
	<link rel="stylesheet" href="passwordStyle.css" />
	<script src="script.js"></script>
	<link rel="icon" type="image/png" href="iconopag.ico" />
</h:head>
<h:body>
	<div id="box-formulario" class="animate__animated animate__bounceInLeft">
		<div class="card">
			<h:form>
				<p:messages>
					<p:autoUpdate />
				</p:messages>

				<h2 style="text-align: center; margin-bottom: 20px;">Nueva
					Contraseña</h2>
					<!-- contraseña 1 -->

							<div class="field" style="margin-bottom: 20px;">
					<span class="ui-float-label"> <p:password
							value="#{UserBean.contrasegna}" id="pwd1" match="pwd2"
							required="true" style="width: 100%;" feedback="true"
							promptLabel="Ingrese una contraseña segura"
							validatorMessage="La contraseña debe tener al menos 8 caracteres, incluyendo una mayúscula, una minúscula y un número.">
							<f:validateRegex pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$" />
						</p:password> <p:outputLabel for="pwd1" value="Contraseña" />
					</span>
				</div>

				<div class="field" style="margin-bottom: 20px;">
					<span class="ui-float-label"> <p:password
							value="#{UserBean.contrasegna2}" id="pwd2" required="true"
							style="width: 100%;" feedback="true"
							promptLabel="Confirme su contraseña"
							validatorMessage="Las contraseñas no coinciden." /> <p:outputLabel
							for="pwd2" value="Confirmar Contraseña" />
					</span>
				</div>

				<p:messages id="messages" showDetail="true">
					<p:autoUpdate />
				</p:messages>

<!-- Botones El primero es para guardar la nueva contraseña -->
				<div class="field botones-container">
					<p:commandButton update="@form" icon="fa-solid fa-right-left" value="Cambiar"
						styleClass="boton-crear" action="#{UserBean.cambiarContrasegna}" />
					<p:commandButton value="Inicio" icon="fa fa-home"
						styleClass="boton-home" action="index.xhtml?faces-redirect=true"
						immediate="true" />


				</div>

			</h:form>
		</div>
	</div>
</h:body>
</html>
